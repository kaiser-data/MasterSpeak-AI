# MasterSpeak-AI Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database URL for Railway
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://username:password@host:port/masterspeak_db

# Alternative local development database
# DATABASE_URL=postgresql://postgres:password@localhost:5432/masterspeak_dev

# ============================================================================
# API CONFIGURATION  
# ============================================================================

# OpenAI API Key for speech analysis
OPENAI_API_KEY=sk-your-openai-api-key-here

# JWT Secret Key for authentication (generate with: openssl rand -hex 32)
SECRET_KEY=your-super-secret-jwt-signing-key-here

# API Configuration
API_V1_STR=/api/v1
PROJECT_NAME=MasterSpeak-AI

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable transcription UI features (0=disabled, 1=enabled)
TRANSCRIPTION_UI=1

# Enable PDF export and sharing features (0=disabled, 1=enabled)
EXPORT_ENABLED=1

# Allow transcripts in shared analysis links (0=disabled, 1=enabled)
ALLOW_TRANSCRIPT_SHARE=0

# Frontend URL for generating share links
FRONTEND_URL=http://localhost:3000

# Default share token expiry in days
SHARE_TOKEN_EXPIRY_DAYS=7

# Maximum active share tokens per analysis
MAX_SHARE_TOKENS_PER_ANALYSIS=5

# Enable progress tracking dashboard (0=disabled, 1=enabled)
PROGRESS_UI=1

# Enable shareable analysis links (0=disabled, 1=enabled)
SHARE_LINKS=0

# Enable advanced analytics features (0=disabled, 1=enabled)
ADVANCED_ANALYTICS=0

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================

# Enable rate limiting (true/false)
RATE_LIMIT_ENABLED=true

# Default rate limit (requests per minute)
RATE_LIMIT_DEFAULT=60/minute

# Authentication endpoint limits
RATE_LIMIT_AUTH=5/minute

# Analysis endpoint limits
RATE_LIMIT_ANALYSIS=10/minute
RATE_LIMIT_UPLOAD=5/minute

# Health check limits
RATE_LIMIT_HEALTH=100/minute

# Redis URL for distributed rate limiting (optional)
# REDIS_URL=redis://localhost:6379/0

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# CORS origins (comma-separated list)
CORS_ORIGINS=http://localhost:3000,https://your-frontend-domain.vercel.app

# Session configuration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
PASSWORD_HASH_ALGORITHM=bcrypt

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable structured JSON logging (true/false)
JSON_LOGGING=true

# Environment name for monitoring
ENVIRONMENT=development